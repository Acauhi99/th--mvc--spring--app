<!DOCTYPE html>
<html
  xmlns:th="http://www.thymeleaf.org"
  xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
  th:replace="~{layout/main :: html(~{::title}, ~{::body})}"
>
  <head>
    <title>Home</title>
  </head>
  <body>
    <div class="row">
      <div class="col-md-12">
        <div class="jumbotron bg-light p-5 rounded">
          <h1 class="display-4">Welcome to Spring MVC Application</h1>
          <p class="lead">
            This is a simple Spring Boot application with Thymeleaf templates.
          </p>
          <hr class="my-4" />

          <div sec:authorize="!isAuthenticated()">
            <p>Please log in to access all features.</p>
            <a th:href="@{/login}" class="btn btn-primary btn-lg me-2">Login</a>
            <a th:href="@{/register}" class="btn btn-outline-primary btn-lg"
              >Register</a
            >
          </div>

          <div sec:authorize="isAuthenticated()">
            <p>
              You are logged in as: <strong sec:authentication="name"></strong>
            </p>
            <p>
              Role: <span sec:authentication="principal.authorities"></span>
            </p>

            <div class="mt-4">
              <a th:href="@{/users/profile}" class="btn btn-primary"
                >View Profile</a
              >
              <a
                th:href="@{/users}"
                class="btn btn-outline-primary ms-2"
                sec:authorize="hasAuthority('ROLE_ADMIN')"
                >Manage Users</a
              >
            </div>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>
